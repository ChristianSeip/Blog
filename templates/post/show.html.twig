{% extends 'base.html.twig' %}

{% block title %}{{ post.title }}{% endblock %}

{% block body %}
    {% if is_granted('ROLE_ADMIN') %}
        <nav class="control-container">
            <a href="{{ path('app_post_delete', {'id': post.id}) }}" class="btn btn-danger">Delete Post</a>
        </nav>
    {% endif %}
    <header class="main-content-title">
        <h2>{{ post.title }}</h2>
    </header>
    <div class="main-content-box">
        <div class="post-content">
            {{ post.content|raw }}
        </div>
        <div class="meta">
            {{ post.author.username }} | {{ post.createdAt|date('d.m.Y H:i') }}
        </div>
    </div>
{% endblock %}

{% block sidebar %}
    <div class="sidebar-box">
        <header class="sidebar-box-title">Recommended</header>
        <div>
            <ul class="list-style-type-none">
                {% for post in randomPosts %}
                    <li><a href="{{ path('app_post_show', {'id': post.id}) }}">{{ post.title }}</a></li>
                {% endfor %}
            </ul>
        </div>
    </div>
    <div class="sidebar-box">
        <header class="sidebar-box-title">Latest Posts</header>
        <div>
            <ul class="list-style-type-none">
                {% for post in latestPosts %}
                    <li><a href="{{ path('app_post_show', {'id': post.id}) }}">{{ post.title }}</a></li>
                {% endfor %}
            </ul>
        </div>
    </div>
{% endblock %}